
@{
    ViewData["Title"] = "Fetch";
}

<h1>Fetch</h1>
<div id="div1"></div>
<ul id="ul1"></ul>

@section Scripts{
   
    <script>
        fetch('@Url.Content("/api/Index")')
        .then(response => {
            console.log(response);
           return response.text()
        })
            .then(data => { document.querySelector('#div1').innerHTML = data });

        fetch('@Url.Content("/api/Cities")')
            .then(response => {
                console.log(response);
                return response.json()
            })
            .then(data => {
                const lis = data.map(city=>`<li>${city}<li/>`);
                document.querySelector('#ul1').innerHTML = lis.join("");
            });



    </script>
}