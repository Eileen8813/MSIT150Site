
@{
    ViewData["Title"] = "homework1";
}

<h1>作業一</h1>

<button id="button1" class="btn btn-primary">Click</button>
<div class="alert alert-info" id="div1"></div>

@section Styles{

}

@section Scripts{
    <script>
        //作業一 改用 jQuery 完成JSON資料讀取並顯示在表格中的練習
       
        //步驟一
        const xhr = new XMLHttpRequest();

        $('#button1').click( () => {
            //myDiv.innerHTML = "Button Click"  這是練習一不用管

            //步驟二對伺服器發出要求(Request)
            xhr.open('Get', '/api/Index');
            xhr.send();

            //步驟三接收伺服器回傳的資料

            //這邊的Load不能改寫成簡短的!!因為xhr(XMLHttpRequest)是沒有load這個方法!
            xhr.addEventListener('load', () => {
                const data = xhr.responseText;
                //步驟四讀資料 JSON XML
                //步驟五顯示資料
                $('#div1').html( `<h3>${data}</h3>`);
            })





        })
    </script>
}